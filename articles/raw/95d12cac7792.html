<html lang="en">

<head>
    <title>How to Manage Multiple SSH Keys with Separate GitHub Accounts</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width initial-scale=1.0">
    <meta name="description" content="In order to securely manage multiple SSH keys and authenticate them with GitHub, 
        it’s important to follow the correct steps. Having…">
    <meta name="keywords" content="git-bash, ssh-keys, github, multiple-ssh-keys">
    <meta name="author" content="Sasha Flores">
    <meta property="og:type" content="website">
    <meta property="og:title" content="How to Manage Multiple SSH Keys with Separate GitHub Accounts">
    <meta property="og:description"
        content="In order to securely manage multiple SSH keys and authenticate them with GitHub, it’s important to follow the correct steps. Having…">
    <meta property="og:image" content="https://miro.medium.com/1*lkALRpeH2vwbKtORiEzCFQ.png">
    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="How to Manage Multiple SSH Keys with Separate GitHub Accounts">
    <meta property="twitter:description"
        content="In order to securely manage multiple SSH keys and authenticate them with GitHub, it’s important to follow the correct steps. Having…">
    <meta property="twitter:image" content="https://miro.medium.com/1*lkALRpeH2vwbKtORiEzCFQ.png">
</head>

<body>
    <div class="blog">

        <h1 id="ed66">
            <b>How to Manage Multiple SSH Keys with Separate GitHub Accounts</b>
        </h1><img alt="" src="https://miro.medium.com/1*lkALRpeH2vwbKtORiEzCFQ.png" />
        <p>In order to securely manage multiple SSH keys and authenticate them with GitHub, it's important to follow the
            correct steps.
            Having multiple SSH keys is useful when you're using different machines or need to access different GitHub
            accounts or repositories.
            Here's a step-by-step guide on managing multiple SSH keys and authenticating them with GitHub:
        </p>
        <h3 id="46b9">Step 1- Check for existing SSH Keys</h3>
        <p>Before you generate a new SSH key, you should check your local machine for existing keys, to list existing
            keys open Git Bash
            and run the following command line:
        </p>
        <p><code>$ ls -al ~/.ssh</code></p>
        <p>If keys exist, it will be listed in the .ssh directory. Most of the time, the directory path will be
            (C:/Users/YOU).</p>
        <pre><code class="language-scss">-rw-r--r-- 1 user 197121 419 Nov 29  2022 id_ed25519  // private key
-rw-r--r-- 1 user 197121 106 Nov 29  2022 id_ed25519.pub  // public key</code>
</pre>
        <p>If your machine doesn't support Ed25519 algorithm, your keys might have been generated with RSA or ECDSA
            algorithm:</p>
        <ul>
            <li>

                <code>id_rsa.pub</code>
            </li>
            <li>
                <code>id_ecdsa.pub</code>
            </li>
        </ul>
        <h3 id="524f">Step 2- Generate a new SSH Key</h3>
        <p>
            Depending on which algorithm is supported by your local machine, you should generate a new key with your
            desired email,
            which can be different from the initial email used with the existing key.
        </p>
        <ul>
            <li>In git bash, you need to navigate to where your .ssh directory is located.</li>
        </ul>
        <p><code>$ cd ~/.ssh</code></p>
        <ul>
            <li><i>If Ed25519 is supported, run the command line below:</i></li>
        </ul>
        <p><code>$ ssh-keygen -t ed25519 -C "your_email@example.com"</code></p>
        <ul>
            <li><i>If you are using a legacy system that doesn't support Ed25519 algorithm:</i></li>
        </ul>
        <p><code>$ ssh-keygen -t rsa -b 4096 -C "your_email@example.com"</code></p>
        <ul>
            <li>You will be asked to save the key in a specific file; usually will be the same .ssh directory,
                think about giving the key a unique name to differentiate between various keys, workspaces, or GitHub
                accounts:</li>
        </ul>
        <p><code>$ Enter file in which to save the key(c/users/you/.ssh/id_ed25519: <unique-key-name></code></p>
        <ul>
            <li>The last step is to enter a passphrase of your choice, or press enter to leave it blank.</li>
            <li>To ensure that the new key pair are generated successfully, run:</li>
        </ul>
        <p><code>$ ls -al ~/.ssh</code></p>
        <ul>
            <li>You should be able to see the old & new keys as follows:</li>
        </ul>
        <pre><code class="language-scss">-rw-r--r-- 1 user 197121 419 Nov 29  2022 id_ed25519  // OLD private key
                -rw-r--r-- 1 user 197121 106 Nov 29  2022 id_ed25519.pub  // OLD public key
-rw-r--r-- 1 user 197121 419 Jul 23  2023 unique-key-name  // NEW private key
-rw-r--r-- 1 user 197121 106 Jul 23  2023 unique-key-name.pub  // NEW public key</code></pre>
        <h3 id="6326">Step 3- Create a Config file</h3>
        <p>If you have more than one pair of keys, you will have to create a config file in your
            .ssh directory to specify which key to use for each account, as the ssh-agent can't handle multiple keys;
        </p>
        <ul>
            <li>Create a <code>config</code> file at .ssh directory path by running:</li>
        </ul>
        <p><code>$ notepad config</code></p>
        <ul>
            <li>Copy, paste, customize, and save the file below in your <code>config</code> file.</li>
            <li>Please note that the <code>personal account</code>is the previously existed account with
                <code>id_ed25519</code>
                key, you can customize the account name to fit your needs.</li>
            <li>While the <code>work account</code> is the second account with newly generated key, you will need to
                distinguish
                <code>Host</code> by adding any word that stands out for you; I added <code>work.</code>
            </li>
        </ul>
        <pre><code>
#personal account    
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519   
    IdentitiesOnly yes

#work account   
Host github.com-work
    HostName github.com
    User git
    IdentityFile ~/.ssh/unique-key-name    
    IdentitiesOnly yes</code></pre>
        <ul>
            <li>Double-check the <code>config</code>
                is created properly by running:</li>
        </ul>
        <p><code>$ ls -al ~/.ssh</code></p>
        <ul>
            <li>In case you find the <code>config</code> file saved as text file, run:</li>
        </ul>
        <p><code>$ mv config.txt config</code></p>
        <h3 id="becb">Step 4- Add SSH keys to your GitHub account</h3>
        <p>To authenticate your SSH keys, you need to add them to your GitHub account. Follow these steps:</p>
        <ul>
            <li>Run this command <code>cat <unique-key-name>.pub</code>in git bash to display the public key, which you
                will then copy.</li>
            <li>Go to GitHub and log in to the account associated with the SSH key you want to add.</li>
            <li>Go to Settings > SSH and GPG keys.</li>
            <li>Click on New SSH key.</li>
            <li>Give your key a meaningful name.</li>
            <li>Paste the contents into the key field on GitHub and click on Add SSH key to save.</li>
        </ul>
        <h3 id="901c">Step 5- Time to test SSH keys</h3>
        <p>Now that your SSH keys are set up and connected to your GitHub account, you can clone or update repositories
            without having to enter your credentials each time. Simply use the appropriate host alias and repository URL
            in your terminal.
            For example:
        </p>
        <p># Clone a repository using the default SSH key $ git clone <a href="mailto:git@github.com">git@github.com

            </a>:<username>/<repository>.git

        </p>

        
        <p># Clone a repository using the second SSH key $ git clone git@github.com-work:<username>/<repository>.git</p>
        <p>Note in the second cloned repository, we added the key word <code>work</code> to
            <code>git@github.com-work</code>
            which was customized in the
            <code>config</code> file to the
            <code>Host.</code>
        </p>
    </div>
</body>

</html>